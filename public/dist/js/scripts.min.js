"use strict";var Post=Backbone.Model.extend({}),Posts=Backbone.Firebase.Collection.extend({model:Post,url:"/posts"}),BlogPost=Backbone.View.extend({className:"post-item-wrapper",postTemplate:_.template($("#post-template").html()),initialize:function(){this.render()},render:function(){return this.$el.html(this.postTemplate(this.model.toJSON())),this}}),BlogPosts=Backbone.View.extend({el:"body",count:0,num:1,total:null,numToRender:null,initialize:function(){this.read()},events:{"click .paginator":"paginate"},addOne:function(t){var e=new BlogPost({model:t});this.$el.prepend(e.el)},addAll:function(){this.collection.each(function(t){this.addOne(t)}.bind(this))},read:function(){this.total=posts.length,this.count+=10,this.numToRender=this.total-this.count;for(var t=this.numToRender;t<this.total;t++){var e=posts.at(t),n=new BlogPost({model:e});$(".blog-posts").prepend(n.el)}$(".pagination-wrapper").append('<div class="paginator"><p class="btn-pagination">Next <span>10</span></p></div>')},paginate:function(){$(".paginator").remove(),this.total=this.numToRender,this.numToRender>10?this.numToRender=this.total-this.count:this.numToRender=0,this.num+=1;var t="pagination-"+this.num,e="."+t,n=document.createElement("div");$(n).addClass(t),$(".blog-posts").append(n);for(var o=this.numToRender;o<this.total;o++){var s=posts.at(o),i=new BlogPost({model:s});$(e).prepend(i.el)}0!==this.numToRender&&$(".pagination-wrapper").append('<div class="paginator"><p class="btn-pagination">Next <span>10</span></p></div>')}}),posts=new Posts,promise=new Promise(function(t,e){$(".kurt-loader").html('<img class="loader img-responsive" src="img/bananas.gif">');var n=posts.fetch({success:function(e){console.log("we got bananYas : ",e),t(n)}})});promise.then(function(){$(".kurt-loader").empty();new BlogPosts({collection:posts})});